--Apply LOP for Sri B Venkateshwarlu, Sub-Staff, Emp Code 532 for the following dates.


--July-19: 1, 3-14, 16-24, 26-31

--Aug-19: 1&2, 4&5, 7&8, 10-18, 20-25, 29-30

--Sep-19: 1&2, 4, 7&8, 10, 13-15, 17, 20-23, 26-29

--Oct-19: 2, 4-6, 8&9


(select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)
------------To Apply Leave
--01-07-2019

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-07-01';
set @EndDate='2019-07-01';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=1;
set @TotalDays=1;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+1);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave
--12
--2019-07-03
--2019-07-14

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-07-03';
set @EndDate='2019-07-14';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=12;
set @TotalDays=12;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+12);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave
--8
--2019-07-16
--2019-07-24



declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-07-16';
set @EndDate='2019-07-24';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=8;
set @TotalDays=8;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+8);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave
--5
--2019-07-26
--2019-07-31



declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-07-26';
set @EndDate='2019-07-31';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=5;
set @TotalDays=5;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+5);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

----------------------------------------------------------------------------------------------------------------------------------------------------------

------------To Apply Leave

--2
--2019-08-01
--2019-08-02


declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-08-01';
set @EndDate='2019-08-02';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=2;
set @TotalDays=2;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+2);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;


------------To Apply Leave
--2
--2019-08-04
--2019-08-05


declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-08-04';
set @EndDate='2019-08-05';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=2;
set @TotalDays=2;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+2);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave

--2
--2019-08-07
--2019-08-08

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-08-07';
set @EndDate='2019-08-08';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=2;
set @TotalDays=2;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+2);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave

--9
--2019-08-10
--2019-08-18

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-08-10';
set @EndDate='2019-08-18';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=9;
set @TotalDays=9;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+9);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave


--6
--2019-08-20
--2019-08-25

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-08-20';
set @EndDate='2019-08-25';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=6;
set @TotalDays=6;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+6);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave

--2
--2019-08-29
--2019-08-30

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;



set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-08-29';
set @EndDate='2019-08-30';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=2;
set @TotalDays=2;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+2);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;




----------------------------------------------------------------------------------------------------------------------------------------------------------

------------To Apply Leave

--2
--2019-09-01
--2019-09-02

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;



set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-01';
set @EndDate='2019-09-02';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=2;
set @TotalDays=2;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+2);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;


------------To Apply Leave
--1
--2019-09-04

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-04';
set @EndDate='2019-09-04';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=1;
set @TotalDays=1;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+1);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave

--2
--2019-09-07
--2019-09-08

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-07';
set @EndDate='2019-09-08';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=2;
set @TotalDays=2;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+2);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave

--1
--2019-09-10
declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-10';
set @EndDate='2019-09-10';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=1;
set @TotalDays=1;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+1);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave
--3
--2019-09-13
--2019-09-15

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-13';
set @EndDate='2019-09-15';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=3;
set @TotalDays=3;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+3);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave

--1
--2019-09-17
declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-17';
set @EndDate='2019-09-17';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=1;
set @TotalDays=1;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+1);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave
--4
--2019-09-20
--2019-09-23

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-20';
set @EndDate='2019-09-23';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=4;
set @TotalDays=4;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+4);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

------------To Apply Leave

--4
--2019-09-26
--2019-09-29
declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-09-26';
set @EndDate='2019-09-29';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=4;
set @TotalDays=4;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+4);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

----------------------------------------------------------------------------------------------------------------------------------------------------------

------------To Apply Leave
--1
--2019-10-02

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-10-02';
set @EndDate='2019-10-02';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=1;
set @TotalDays=1;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+1);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;



------------To Apply Leave

--3
--2019-10-04
--2019-10-06

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-10-04';
set @EndDate='2019-10-06';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=3;
set @TotalDays=3;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+3);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;


------------To Apply Leave

--2
--2019-10-08
--2019-10-09

declare @Empid int;
declare @Leavetypeid int;
declare @StartDate Date;
declare @EndDate Date;
declare @UpdatedBy_EmployeeId int;
declare @Status varchar(10);
declare @LeaveDays int;
declare @TotalDays int;
declare @MaternityType varchar(10);
declare @pre_leave_balance int;


set @Empid=532;
set @Leavetypeid=12;
set @StartDate='2019-10-08';
set @EndDate='2019-10-09';
set @UpdatedBy_EmployeeId=123456;
set @Status='Pending';
set @LeaveDays=2;
set @TotalDays=2;
set @MaternityType='';
set @pre_leave_balance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019));


INSERT INTO [dbo].[Leaves]([EmpId],[ControllingAuthority],[SanctioningAuthority],[LeaveType],[StartDate],[EndDate],[Subject],[Reason],
[UpdatedBy],[UpdatedDate],[Status],[LeaveDays],[TotalDays],[LeaveTimeStamp],[LeavesYear],[Stage],[CancelReason],[MaternityType],
[BranchId],[DepartmentId],[DesignationId],[leave_balance]) 
VALUES((select id from employees where empid=@empid),
(select ControllingAuthority from employees where empid=@empid),
(select SanctioningAuthority from employees where empid=@empid),
@Leavetypeid,@StartDate,@EndDate,'Leave Applied','Leave Applied Manually',
@UpdatedBy_EmployeeId,GETDATE(),@Status,@LeaveDays,@TotalDays,GETDATE(),2019,'','',
@MaternityType,(select Branch from employees where empid=@empid),
(select Department from employees where empid=@empid),
(select CurrentDesignation from employees where empid=@empid),@pre_leave_balance);


------- To update Leavebalances

declare @Empid int;
declare @LeaveTypeId int;
declare @LeaveBalance int;

set @Empid=532;
set @LeaveTypeId=12;
set @Leavebalance=((select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019)+2);

update EmpLeaveBalance set LeaveBalance=@Leavebalance where LeaveTypeId=@LeaveTypeId and empid=
(select id from employees where empid=@Empid) and year=2019;

---------------------------------------------------------------------------------------------------------------------------------------------

update EmpLeaveBalance set  carryforward=(carryforward+(select leavebalance from EmpLeaveBalance where empid =
(select id from employees where empid=532) and leavetypeid=12 and year=2019)), LeaveBalance=(LeaveBalance+
(select leavebalance from EmpLeaveBalance where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2019) )
where empid =(select id from employees where empid=532) and leavetypeid=12 and year=2020
