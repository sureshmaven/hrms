--Please accrue the Compensatory Off's to the staff members mentioned below as per the details.
--1. S Shanker,   Code 422 -  48
--2. M Srinivas,  Code 308 - 9
--3. T Narsing,   Code 5796 - 17
--4. S Bujji Babu, Code 6386 - 02
--The C-Off's aforementioned should be credited respectively to the employees with the reason " Accrued for performing additional watchmen duties for the period May to September-2020 as per the Note Orders of Deputy General Manager (HRD) dated 08.10.2020".



INSERT INTO [dbo].[Leaves_CreditDebit] values(	(select id from Employees where empid=	422 	),13,	48	,0,123456,GETDATE(),(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	422 	) and LeaveTypeId=13 and year=2020),'Accrued for performing additional watchmen duties for the period May to September-2020 as per the Note Orders of Deputy General Manager (HRD) dated 08.10.2020',(select ShortName from Employees where empid=	422 	),(select Department from Employees where empid=	422 	),(select Branch from Employees where empid=	422 	),(select CurrentDesignation from Employees where empid=	422 	),'Credit',(select branch_value1 from employees where empid=	422 	),(	48	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	422 	) and LeaveTypeId=13 and year=2020) ),2020);
INSERT INTO [dbo].[Leaves_CreditDebit] values(	(select id from Employees where empid=	308 	),13,	9	,0,123456,GETDATE(),(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	308 	) and LeaveTypeId=13 and year=2020),'Accrued for performing additional watchmen duties for the period May to September-2020 as per the Note Orders of Deputy General Manager (HRD) dated 08.10.2020',(select ShortName from Employees where empid=	308 	),(select Department from Employees where empid=	308 	),(select Branch from Employees where empid=	308 	),(select CurrentDesignation from Employees where empid=	308 	),'Credit',(select branch_value1 from employees where empid=	308 	),(	9	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	308 	) and LeaveTypeId=13 and year=2020) ),2020);
INSERT INTO [dbo].[Leaves_CreditDebit] values(	(select id from Employees where empid=	5796 	),13,	17	,0,123456,GETDATE(),(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	5796 	) and LeaveTypeId=13 and year=2020),'Accrued for performing additional watchmen duties for the period May to September-2020 as per the Note Orders of Deputy General Manager (HRD) dated 08.10.2020',(select ShortName from Employees where empid=	5796 	),(select Department from Employees where empid=	5796 	),(select Branch from Employees where empid=	5796 	),(select CurrentDesignation from Employees where empid=	5796 	),'Credit',(select branch_value1 from employees where empid=	5796 	),(	17	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	5796 	) and LeaveTypeId=13 and year=2020) ),2020);
INSERT INTO [dbo].[Leaves_CreditDebit] values(	(select id from Employees where empid=	6386 	),13,	2	,0,123456,GETDATE(),(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	6386 	) and LeaveTypeId=13 and year=2020),'Accrued for performing additional watchmen duties for the period May to September-2020 as per the Note Orders of Deputy General Manager (HRD) dated 08.10.2020',(select ShortName from Employees where empid=	6386 	),(select Department from Employees where empid=	6386 	),(select Branch from Employees where empid=	6386 	),(select CurrentDesignation from Employees where empid=	6386 	),'Credit',(select branch_value1 from employees where empid=	6386 	),(	2	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	6386 	) and LeaveTypeId=13 and year=2020) ),2020);


update EmpLeaveBalance set LeaveBalance=(	48	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	422 	and LeaveTypeId=13) and year=2020)) where LeaveTypeId=13 and empid=(select id from employees where empid=	422 	) and year=2020;
update EmpLeaveBalance set LeaveBalance=(	9	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	308 	and LeaveTypeId=13) and year=2020)) where LeaveTypeId=13 and empid=(select id from employees where empid=	308 	) and year=2020;
update EmpLeaveBalance set LeaveBalance=(	17	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	5796 	and LeaveTypeId=13) and year=2020)) where LeaveTypeId=13 and empid=(select id from employees where empid=	5796 	) and year=2020;
update EmpLeaveBalance set LeaveBalance=(	2	+(select LeaveBalance from EmpLeaveBalance where empid=(select id from employees where empid=	6386 	and LeaveTypeId=13) and year=2020)) where LeaveTypeId=13 and empid=(select id from employees where empid=	6386 	) and year=2020;
