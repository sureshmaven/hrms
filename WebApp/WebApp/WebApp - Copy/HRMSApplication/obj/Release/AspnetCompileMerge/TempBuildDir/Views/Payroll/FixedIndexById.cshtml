@model HRMSApplication.Models.PrintPdfFW
<style>
    body {
        background: #fff;
    }

    .page_st {
        background: none;
        display: none;
    }

    #menuheader {
        display: none;
    }

    .footer {
        display: none;
    }

    .page {
        display: none;
    }

    .main_heading {
        display: none;
    }

    .page_start {
        display: none;
    }

    .panel-primary {
        display: none;
    }

    .print-pdf a {
        color: #000;
    }

    div#display {
        margin-top: 35px;
    }

    #content {
        margin-top: 30px;
    }
</style>
<div class="col-md-10"><img src="~/Assets/images/PDFLogo.png" style="width: 100px;height: 94px;"/></div>
@*<div class="col-md-6">
    <img src="~/Assets/images/LoginLogo.png" style="width: 322px; height: 77px; margin-top: 15px;" />

    </div>*@
<div id="display" class="col-md-2">
    <div class="pull-right">
        <button id="cmd" class="btn btn-info">Generate PDF</button>
    </div>
</div>
<div id="content">
    @*<p class="print-pdf">@Html.ActionLink("Print", "PrintAllReport")</p>*@


    <table class="playsliptable" style="width:100%">

        <tr>
            <th colspan="4">Salary BreakUP for MARCH 2019</th>
        </tr>
        @*<tr>
                <td style="text-align: center;" colspan="4"><b>Playslip for MARCH 2019</b> </td>
            </tr>*@

        <tr>
            <td class="tbg">Emp Code.</td>
            <td>@Model.EmpCode</td>
            <td class="tbg">Name</td>
            <td>@Model.EmpName</td>
        </tr>
        <tr>
            <td class="tbg">Branch/Dept</td>
            <td>@Model.Branch</td>
            <td class="tbg">Designation</td>
            <td>@Model.Designation</td>

        </tr>
        <tr>
            <td class="tbg">Emp PAN</td>
            <td>@Model.EmpPANno</td>
            <td class="tbg">EmailId</td>
            <td>@Model.EmpEmailId</td>
        </tr>
        <tr>
            <td class="tbg">Emp ESI</td>
            <td>@Model.EmpESIno</td>
            <td class="tbg">Bank A/c No.</td>
            <td>@Model.EmpBankAccountno</td>
        </tr>
        <tr>
            <td class="tbg">EmpUAN_PFno</td>
            <td colspan="4">@Model.EmpUAN_PFno</td>
           

        </tr>
        

    </table>
    <br><br>
    <table class="playsliptable2" style="width:100%">
      
        <tr>
            <th>Fixed Wages</th>
            <th>Amount in Rs.</th>
           
        </tr>
        <tr>
            <td>Fixed Gross</td>
            <td>@Model.FixedGross</td>
        </tr>
        <tr>
            <td>Fixed Basic</td>
            <td>@Model.FixedBasic</td>

        </tr>
        <tr>
            <td>Fixed HRA</td>
            <td>@Model.FixedHRA</td>
        </tr>
        <tr>
            <td>Fixed Conveyance</td>
            <td>@Model.FixedConveyance</td>
            
        </tr>
        <tr>
            <td>Fixed SA</td>
            <td>@Model.FixedSA</td>
      
        </tr>

        <tr>
            <td>ESI Employer</td>
            <td>@Model.ESIEmployer</td>
          

        </tr>
      <tr>
          <td>Fixed Medical</td>
          <td>@Model.FixedMedical</td>
      </tr>
        <tr>
            <td>PF Employer</td>
            <td>@Model.PFEmployer</td>
        </tr>
        <tr>
            <td>CTC</td>
            <td>@Model.CTC</td>
        </tr>
       
    </table>

</div>
<br />
<p class="print-pdf" id="displayBack">
    @Html.ActionLink("Back to Report", "EmployeesFixedwagesRept", "AllReports")
    <br /><br />
</p>
<br /><br />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
<script>
    var doc = new jsPDF();
    var specialElementHandlers = {
        'DIV to be rendered out': function (element, renderer) {
            return true;
        }
    };

    $('#cmd').click(function () {
        //debugger;
        $('#display').hide();
        $('#displayBack').hide();

        var canvas = $(document).find('#content');

        html2canvas(document.body, {
            onrendered: function (canvas) {

                var img = canvas.toDataURL("image/jpeg");

                var imgWidth = 208;
                var pageHeight = 295;
                var imgHeight = canvas.height * imgWidth / canvas.width;
                var heightLeft = imgHeight;
                var position = 0;
                doc.addImage(img, 'JPEG', 5, 10, 180, 120)

                doc.save('PaySlip.pdf');
                $('#display').show();
                $('#displayBack').show();
            }

        });

    });

</script>